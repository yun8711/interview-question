<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器 | 老刘面试题</title>
    <meta name="description" content="面试题收集">
    <link rel="preload stylesheet" href="/interview-question/assets/style.f38c8de6.css" as="style">
    
    <script type="module" src="/interview-question/assets/app.729b4426.js"></script>
    <link rel="preload" href="/interview-question/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/interview-question/assets/chunks/framework.d2ce16e8.js">
    <link rel="modulepreload" href="/interview-question/assets/chunks/theme.daaf9230.js">
    <link rel="modulepreload" href="/interview-question/assets/docs_browser.md.84bdbceb.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bfdbeb30><!--[--><!--]--><!--[--><span tabindex="-1" data-v-887b9383></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-887b9383> Skip to content </a><!--]--><!----><header class="VPNav" data-v-bfdbeb30 data-v-7eb92283><div class="VPNavBar has-sidebar" data-v-7eb92283 data-v-56b90355><div class="container" data-v-56b90355><div class="title" data-v-56b90355><div class="VPNavBarTitle has-sidebar" data-v-56b90355 data-v-62921d3a><a class="title" href="/interview-question/" data-v-62921d3a><!--[--><!--]--><!----><!--[-->老刘面试题<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-56b90355><div class="curtain" data-v-56b90355></div><div class="content-body" data-v-56b90355><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-56b90355><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-56b90355 data-v-104f3a97><span id="main-nav-aria-label" class="visually-hidden" data-v-104f3a97>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/interview-question/docs/" tabindex="0" data-v-104f3a97 data-v-250a8e69><!--[-->前端面试题<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-56b90355 data-v-9f30ffe8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-9f30ffe8 data-v-bb4bad8e data-v-6ee2a80d><span class="check" data-v-6ee2a80d><span class="icon" data-v-6ee2a80d><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bb4bad8e><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bb4bad8e><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-56b90355 data-v-19990ee5 data-v-0597e9bd><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yun8711/interview-question.git" aria-label="github" target="_blank" rel="noopener" data-v-0597e9bd data-v-2712ec7a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-56b90355 data-v-e2f33d58 data-v-96b67cd8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96b67cd8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96b67cd8><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96b67cd8><div class="VPMenu" data-v-96b67cd8 data-v-921b9b33><!----><!--[--><!--[--><!----><div class="group" data-v-e2f33d58><div class="item appearance" data-v-e2f33d58><p class="label" data-v-e2f33d58>Appearance</p><div class="appearance-action" data-v-e2f33d58><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e2f33d58 data-v-bb4bad8e data-v-6ee2a80d><span class="check" data-v-6ee2a80d><span class="icon" data-v-6ee2a80d><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bb4bad8e><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bb4bad8e><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e2f33d58><div class="item social-links" data-v-e2f33d58><div class="VPSocialLinks social-links-list" data-v-e2f33d58 data-v-0597e9bd><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yun8711/interview-question.git" aria-label="github" target="_blank" rel="noopener" data-v-0597e9bd data-v-2712ec7a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-56b90355 data-v-2b6927c6><span class="container" data-v-2b6927c6><span class="top" data-v-2b6927c6></span><span class="middle" data-v-2b6927c6></span><span class="bottom" data-v-2b6927c6></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-bfdbeb30 data-v-a170c3a3><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a170c3a3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a170c3a3><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a170c3a3>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a170c3a3 data-v-ce75e002><button data-v-ce75e002>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-bfdbeb30 data-v-88a0c2b0><div class="curtain" data-v-88a0c2b0></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-88a0c2b0><span class="visually-hidden" id="sidebar-aria-label" data-v-88a0c2b0> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-88a0c2b0><section class="VPSidebarItem level-0 has-active" data-v-88a0c2b0 data-v-ae91c0af><!----><div class="items" data-v-ae91c0af><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/develop-basic" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>开发基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/engineering" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>前端工程化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/js-datatype" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>js数据类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/js-basic" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>js基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/html" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>HTML相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/css" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>CSS相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/network" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>网络相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/browser" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>浏览器相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/nodejs" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>Nodejs相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/vue" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>Vue相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/vue-peripheral" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>Vue周边</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/ts" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>TS相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/react" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>React相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ae91c0af data-v-ae91c0af><div class="item" data-v-ae91c0af><div class="indicator" data-v-ae91c0af></div><a class="VPLink link link" href="/interview-question/docs/hand-written" data-v-ae91c0af><!--[--><p class="text" data-v-ae91c0af>手撕代码</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-bfdbeb30 data-v-363c554b><div class="VPDoc has-sidebar has-aside" data-v-363c554b data-v-55ad85da><!--[--><!--]--><div class="container" data-v-55ad85da><div class="aside" data-v-55ad85da><div class="aside-curtain" data-v-55ad85da></div><div class="aside-container" data-v-55ad85da><div class="aside-content" data-v-55ad85da><div class="VPDocAside" data-v-55ad85da data-v-9b302423><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-9b302423 data-v-51e130bb><div class="content" data-v-51e130bb><div class="outline-marker" data-v-51e130bb></div><div class="outline-title" data-v-51e130bb>内容大纲</div><nav aria-labelledby="doc-outline-aria-label" data-v-51e130bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-51e130bb> Table of Contents for current page </span><ul class="root" data-v-51e130bb data-v-c7ff16ba><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-9b302423></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-55ad85da><div class="content-container" data-v-55ad85da><!--[--><!--]--><!----><main class="main" data-v-55ad85da><div style="position:relative;" class="vp-doc _interview-question_docs_browser" data-v-55ad85da><div><h1 id="浏览器" tabindex="-1">浏览器 <a class="header-anchor" href="#浏览器" aria-label="Permalink to &quot;浏览器&quot;">​</a></h1><h3 id="浏览器内核" tabindex="-1">浏览器内核 <a class="header-anchor" href="#浏览器内核" aria-label="Permalink to &quot;浏览器内核&quot;">​</a></h3><ul><li>Trident：IE浏览器的内核，对W3C标准支持的不好，且存在较多安全问题</li><li>Webkit：Safari 采用的内核，优点是浏览速度较快，缺点是兼容性较低</li><li>Blink：谷歌、Edge、Opera、Safari使用，是Webkit的一个分支</li><li>Gecko：火狐和 Flock 使用，优点是功能强大、丰富，支持很多复杂网页效果和浏览器扩展接口，缺点就是消耗很多资源，比如内存</li><li>Presto：Opera早期自用，优点是速度快，缺点是因为速度丢失了一部分网页兼容性</li></ul><br><h3 id="从输入url到页面展示的过程" tabindex="-1">从输入url到页面展示的过程 <a class="header-anchor" href="#从输入url到页面展示的过程" aria-label="Permalink to &quot;从输入url到页面展示的过程&quot;">​</a></h3><ol><li>输入url网址，浏览器判断是访问站点，还是拼接字符串调用默认搜索引擎</li><li>如果要访问的url注册了Service Worker，那么会拦截所有请求，根据是否过期判断是否需要发送请求，如果需要就下一步</li><li>查询强制缓存，有且未过期直接使用，有但过期，就发起请求，准备协商缓存</li><li>DNS域名解析：要把域名解析为IP地址，会从浏览器缓存、本地磁盘hosts文件、路由器缓存、ISP缓存等查找，如果都没有会发起DNS解析请求，直接找到IP</li><li>通过IP向服务器发起TCP连接，三次握手；如果是https协议，则要先进行SSL协商，进行加密信息交换</li><li>发送请求到服务器，服务器接受请求后，根据请求信息进行相应处理，并返回状态码和响应内容</li><li>浏览器接收到响应内容后，会判断响应码，分析响应数据，然后进行后续处理：页面渲染、运行js脚本等</li><li>页面解析及渲染 <ol><li>解析html文件，创建dom树</li><li>解析css，形成cssom</li><li>将dom树与cssom合并，构建渲染树</li><li>布局渲染树，也叫重排/回流（reflow）</li><li>绘制渲染树，也叫重绘（repaint）</li></ol></li><li>页面加载完毕</li></ol><br><h3 id="浏览器解析渲染页面的过程" tabindex="-1">浏览器解析渲染页面的过程 <a class="header-anchor" href="#浏览器解析渲染页面的过程" aria-label="Permalink to &quot;浏览器解析渲染页面的过程&quot;">​</a></h3><p>浏览器一边解析一边渲染。</p><ol><li>解析html文件，构建dom树，它由 dom 元素及属性节点组成</li><li>解析css，生成cssom树</li><li>将dom树与cssom树合并，构建渲染树，这个过程被叫做Attachment。渲染树的节点被称为渲染对象，渲染对象是一个包含有颜色、大小等属性的矩形，渲染对象和 dom 元素相对应。</li><li>根据渲染树生成布局（回流），弄清楚各个节点在页面中的准确位置和大小，也被称为“自动重排”</li><li>遍历渲染树并调用渲染对象的 paint 方法，将它们的内容显示有屏幕上</li></ol><p>注意：这个过程是逐步完成的，为了更好的用户体验，渲染引擎将会尽可能早的将内容呈现到屏幕上，并不会等到所有的 html 都解析完 成之后再去构建和布局 render 树。它是解析完一部分内容就显示一部分内容，同时，可能还在通过网络下载其余内容。</p><br><h3 id="关键路径渲染" tabindex="-1">关键路径渲染 <a class="header-anchor" href="#关键路径渲染" aria-label="Permalink to &quot;关键路径渲染&quot;">​</a></h3><p>关键路径渲染（Critical Rendering Path）是指浏览器从获取 HTML、CSS 和 JavaScript 等资源，到解析这些资源，生成 DOM、CSSOM，再到构建渲染树，最后进行布局和绘制，完成页面的首次渲染的一系列过程。</p><p>关键路径渲染的主要步骤包括：</p><ol><li><p><strong>获取资源</strong>：浏览器首先通过 HTTP 或 HTTPS 协议，从服务器获取 HTML、CSS 和 JavaScript 等资源。</p></li><li><p><strong>构建 DOM</strong>：浏览器解析 HTML 文档，生成 DOM 树。</p></li><li><p><strong>构建 CSSOM</strong>：浏览器解析 CSS 样式，生成 CSSOM 树。</p></li><li><p><strong>生成渲染树</strong>：浏览器将 DOM 树和 CSSOM 树合并，生成渲染树。渲染树只包含需要显示在页面上的节点。</p></li><li><p><strong>布局</strong>：浏览器根据渲染树计算出每个节点在页面上的位置和大小，这个过程也被称为重排。</p></li><li><p><strong>绘制</strong>：浏览器根据渲染树和布局信息，将每个节点绘制到屏幕上，这个过程也被称为重绘。</p></li></ol><p>优化关键路径渲染的目标是尽快完成首次渲染，使用户能够尽快看到页面内容。这通常可以通过以下方式来实现：</p><ul><li><p><strong>减少资源数量和大小</strong>：减少 HTTP 请求的数量，压缩和优化资源，可以减少获取资源的时间。</p></li><li><p><strong>优化 CSS 和 JavaScript 的加载和执行</strong>：CSS 是阻塞渲染的，因此应该尽快加载和解析。JavaScript 既可以阻塞 DOM 的构建，也可以阻塞 CSSOM 的构建，因此应该尽可能地推迟加载和执行。</p></li><li><p><strong>利用浏览器缓存</strong>：通过合理设置 HTTP 缓存头，可以避免重复获取资源。</p></li><li><p><strong>优化图片加载</strong>：对于大图片，可以使用懒加载的方式，等到需要显示时再加载。对于小图片，可以使用 CSS Sprites 或 Data URI 的方式，减少 HTTP 请求的数量。</p></li><li><p><strong>使用 CDN</strong>：使用内容分发网络（CDN）可以减少资源获取的延迟。</p></li><li><p><strong>使用预加载和预渲染</strong>：预加载可以提前获取将来可能需要的资源，预渲染可以提前渲染将来可能会访问的页面。</p></li></ul><br><h3 id="渲染过程中遇到-js-文件如何处理" tabindex="-1">渲染过程中遇到 js 文件如何处理 <a class="header-anchor" href="#渲染过程中遇到-js-文件如何处理" aria-label="Permalink to &quot;渲染过程中遇到 js 文件如何处理&quot;">​</a></h3><p>JavaScript 的加载、解析与执行会阻塞文档的解析，也就是说，在构建 DOM 时，HTML 解析器若遇到了 JavaScript，那么它会暂停文 档的解析，将控制权移交给 JavaScript 引擎，等 JavaScript 引擎运行完毕，浏览器再从中断的地方恢复继续解析文档。也就是说，如果想要首屏渲染的越快，就越不应该在首屏就加载 JS 文件，这也是都建议将 script 标签放在 body 标签底部的原因。当然在当下，并不是说 script 标签必须放在底部，因为你可以给 script 标签添加 defer 或者 async 属性。</p><br><h3 id="js脚本延迟加载的方式" tabindex="-1">js脚本延迟加载的方式 <a class="header-anchor" href="#js脚本延迟加载的方式" aria-label="Permalink to &quot;js脚本延迟加载的方式&quot;">​</a></h3><ul><li>给脚本添加defer属性，让脚本与文档同步解析，然后文档解析完后再执行脚本</li><li>给脚本添加async属性，让脚本异步加载，不阻塞页面的解析，脚本加载完成后立即执行脚本，这时如果文档没有解析完会阻塞。</li><li>动态创建script标签，监听文档加载事件，当文档加载完成后再动态的创建script标签来引入脚本</li><li>把js脚本放在文档底部，来使js脚本尽可能最后来加载执行。</li></ul><br><h3 id="reflow重排和repaint重绘" tabindex="-1">reflow重排和repaint重绘 <a class="header-anchor" href="#reflow重排和repaint重绘" aria-label="Permalink to &quot;reflow重排和repaint重绘&quot;">​</a></h3><p>reflow重排/回流：当页面文档结构发生变化，渲染树的一部分必须更新并且节点的尺寸发生了变化，浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树。常见的有：</p><ul><li>页面渲染初始化</li><li>添加/删除可见的dom（opacity:0除外）</li><li>改变元素尺寸或位置</li><li>浏览器窗口改变（resize事件触发）</li><li>获取某些属性时，浏览器为了取得正确的值也会触发重排，导致队列刷新，包括：offsetXXX、scrollXXX、clientXXX，所以多次使用这些值时应该进行缓存</li></ul><br><p>repaint重绘：当页面中元素的外观被改变时，浏览器会根据元素的新属性重新绘制，使元素呈现新的外观。比如改变元素的颜色、透明度、text-align等。</p><p>区别：重绘不一定需要重排（比如颜色的改变），重排必然导致重绘（比如改变网页位置）；重绘的性能损耗比重排小。</p><p>优化方法：</p><ul><li>浏览器自身会维护一个队列，把所有会引起重排、重绘的操作放入队列，等队列中的操作达到一定数量或者到了一定时间间隔，进行一批处理，把多次重排、重绘合并为一次</li><li>减少重排、重绘 <ul><li>不要一条一条的修改dom样式，可以先定义好样式集，通过切换className修改</li><li>不要把dom结点的属性值当成循环里的变量</li><li>使用fixed、absolute时，不会重排</li><li>不使用table布局，</li><li>不要在布局信息改变时做查询，会导致渲染队列强制刷新</li></ul></li></ul><br><h3 id="浏览器渲染进程" tabindex="-1">浏览器渲染进程 <a class="header-anchor" href="#浏览器渲染进程" aria-label="Permalink to &quot;浏览器渲染进程&quot;">​</a></h3><p>浏览器是多进程的，包括：浏览器主进程、第三方插件进程、GPU 进程、浏览器渲染进程</p><p><img src="/interview-question/assets/image-20230624102353481.e261be35.png" alt="image-20230624102353481"></p><p>浏览器渲染进程是浏览器的内核，主要负责html、css、js等文件的解析和执行，它是多线程的，主要包含：</p><ul><li><p>GUI渲染线程：常驻，与js线程互斥。当js执行时，GUI线程会被挂起，GUI更新会被保存至任务队列。执行过程：</p><ul><li>根据html生成dom树，同时主进程下载css</li><li>css下载完成后，根据css生成cssom，</li><li>将dom树与cssom合并为渲染树</li><li>计算元素尺寸、位置，布局渲染树（回流）</li><li>绘制页面像素信息（重绘）</li><li>显示页面</li></ul></li><li><p>js引擎线程：常驻，主线程，与GUI线程互斥，一个浏览器渲染进程只有一个js引擎线程。负责解析js脚本，运行代码，在运行代码时生成一个执行栈</p></li><li><p>事件处理线程：常驻，属于浏览器而不是 js 引擎，用来控制事件循环；管理任务队列，异步任务的回调函数会放在其中，等待执行栈读取其中的任务并执行</p><p>当 js 引擎执行代码块如 setTimeout 时（也可以是来自浏览器内核的其他线程，如鼠标点击、ajax 异步请求等），会将对应任务添加到事件处理线程中。当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的队尾，等待 js 引擎的处理。</p><p>注意：由于 js 的单线程，所以这些待处理队列中的事件都得排除等待 js 引擎空闲时处理</p></li><li><p>定时器线程：定时器（setInterval 和 setTimeout）通过这个单独的线程计时，浏览器定时计数器并不是由 js 引擎计数，而是由浏览器计时，在计时完毕后添加回调函数到任务队列。</p><p>W3C 在 HTML 标准中规定，定时器的定时时间不能小于 4ms，如果小于，默认为 4ms。</p></li><li><p>http请求线程：XMLHttpRequest 连接后通过浏览器新开一个线程请求；检测到状态变更时，如果有回调任务，异步线程就产生状态变更事件，将回调函数放入事件队列中，等 js 引擎空闲后执行。</p></li><li><p>任务队列轮询线程：用于轮询监听任务队列</p></li></ul><p>上面这个过程是逐步完成的，渲染引擎会尽可能早的将内容呈现到屏幕上，并不会等所有的html都解析完才去构建。</p><br><h3 id="浏览器渲染优化" tabindex="-1">浏览器渲染优化 <a class="header-anchor" href="#浏览器渲染优化" aria-label="Permalink to &quot;浏览器渲染优化&quot;">​</a></h3><ul><li>针对js：js会阻塞html、css解析 <ul><li>将js文件放在body最后</li><li>body中间尽量不写script标签</li><li>script标签引入脚本时，使用async、defer属性来异步引入，避免阻塞dom解析 <ul><li>直接引入：立即停止页面渲染，去加载js文件，加载完毕立即执行，执行完毕后继续渲染页面</li><li>async：下载完成后，立即异步加载，加载后立即执行，多个async标签时不能保证顺序</li><li>defer：下载完成后，立即异步加载。加载后会等待dom树解析完才执行，多个defer时会按顺序执行</li></ul></li></ul></li><li>针对css：外部样式如果长时间没有加载，浏览器会使用默认样式，所以css一般写在header中，让浏览器尽快获取 <ul><li>使用link：浏览器派发一个新线程（http）去加载资源文件，同时GUI会继续渲染代码</li><li>@import：GUI渲染进程暂停，去加载css，资源文件没有返回前不会继续渲染，所以会阻塞浏览器渲染</li><li>style：GUI直接渲染</li></ul></li><li>针对dom树、cssom树 <ul><li>html层级不要太深</li><li>使用语义化标签，避免不标准语义的特殊处理</li><li>减少css代码选择器层级</li></ul></li><li>减少重排与重绘 <ul><li>操作dom时，尽量在低层级的dom节点操作</li><li>不使用table布局，一个小的改变可能使整个table重新布局</li><li>使用css表达式</li><li>不要频繁操作元素样式，而是修改类名</li><li>使用absolute或者fixed，使元素脱离文档流，这样他们发生变化就不会影响其他元素</li><li>避免频繁操作DOM，可以创建一个文档片段<code>documentFragment</code>，在它上面应用所有DOM操作，最后再把它添加到文档中</li><li>将元素先设置<code>display: none</code>，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘。</li><li>将DOM的多个读操作（或者写操作）放在一起，而不是读写操作穿插着写。这得益于浏览器的渲染队列机制</li></ul></li><li>其他： <ul><li>dns-prefetch：域名转换为ip比较省时，dns-prefetch可以让浏览器空闲时进行dns预取：<code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//m.baidu.com&quot;&gt;</code></li><li>prefetch：一般用来预加载可能使用的资源，浏览器会在空闲时加载prefetch的资源：<code>&lt;link rel=&quot;prefetch&quot; href=&quot;http://www.example.com/&quot;&gt;</code></li><li>preload：加载当前页面要使用的脚本、样式、字体、图片等。所以preload不是空闲时加载，它优先级更高。<code>&lt;link rel=&#39;preload&#39; href=&#39;style.css&#39; as=&quot;style&quot; onload=&quot;console.log(&#39;style loaded&#39;)&quot;</code></li></ul></li></ul><br><h3 id="浏览器存储的方式有哪些" tabindex="-1">浏览器存储的方式有哪些 <a class="header-anchor" href="#浏览器存储的方式有哪些" aria-label="Permalink to &quot;浏览器存储的方式有哪些&quot;">​</a></h3><ul><li><p>cookie：在 HTML5 标准前本地储存的主要方式</p><p>优点：兼容性好，始终在同源的http请求中携带，在浏览器和服务器之间来回传递</p><p>缺点：大小只有 4k，浪费流量，每个 domain 限制 20 个 cookie，使用繁琐，需要自行封装</p></li><li><p>localStorage：HTML5 加⼊的以键值对(Key-Value)为标准的⽅式，优点是操作⽅便，永久性储存（除⾮⼿动删除），⼤⼩为 5M，兼容 IE8+ ；</p></li><li><p>sessionStorage：与 localStorage 基本类似，区别是 sessionStorage 当⻚⾯关闭后会被清理，⽽且与 cookie、localStorage 不同，他不能在所有同源窗⼝中共享，是会话级别的储存⽅式；</p></li><li><p>web SQL：2010 年被 W3C 废弃的本地数据库数据存储⽅案，但是主流浏览器（⽕狐除外）都已经有了相关的实现，web sql 类似于 SQLite，是真正意义上的关系型数据库，⽤sql进⾏操作，当我们⽤JavaScript 时要进⾏转换，较为繁琐；</p></li><li><p>IndexedDB：是被正式纳⼊HTML5 标准的数据库储存⽅案，它是 NoSQL 数据库，⽤键值对进⾏储存，可以进⾏快速读取操作，⾮常适合 web 场景，同时⽤JavaScript 进⾏操作会⾮常便</p></li></ul><br><p><strong>cookie 和 storage 的区别</strong></p><ul><li>存储大小的限制：cookie不超过4k，只适合保存比较小的数据，如会话标识；sessionStorage、localStorage可以达到5M，具体实现因浏览器不同而异</li><li>有效期：cookie可设置过期时间；sessionStorage只在当前浏览器窗口关闭前有效；localStorage始终有效；</li><li>作用域：cookie在同源窗口中共享；sessionStorage只在当前窗口共享，即使是同一个页面；localStorage对所有同源窗口共享</li><li>sessionStorage、localStorage接口使用简单，支持事件通知机制：window.addEventListener(&quot;storage&quot;, handleStorage, false);</li></ul><br><h3 id="浏览器缓存机制" tabindex="-1">浏览器缓存机制 <a class="header-anchor" href="#浏览器缓存机制" aria-label="Permalink to &quot;浏览器缓存机制&quot;">​</a></h3><p>浏览器缓存主要针对前端的静态资源，主要作用就是把静态资源保存在本地，如果再次请求时资源没有更新，则从要地读取，这样大大减少了请求的次数，提高网站性能。</p><p>缓存的过程：</p><ol><li>第一次加载，服务端返回200，浏览器下载文件，缓存文件与请求头，供下次加载时对比使用</li><li>再次加载，由于强制缓存优先级较高，先比较时间差，如果没有超过 cache-control 设置的 max-age（http1.1）/expires <ol><li>如果未过期，并命中强制缓存，则直接读取本地资源</li><li>如果已过期，则强制缓存没有命中，开始协商缓存，向服务器发送带有 If-None-Match 和 If-Modified-Since 的请求；</li></ol></li><li>服务器根据Etag判断文件有没有做修改， <ol><li>如果Etag一致则没有修改，命中协商缓存，返回304，</li><li>如果不一致则表示有改动，返回新资源并带上新的Etag，返回200</li></ol></li><li>如果服务器收到的请求没有Etag值，则将 If-Modified-Since 和被请求文件的最后修改时间做比对 <ol><li>如果一致则命中协商缓存，返回304</li><li>如果不一致则返回新的时间和文件，返回200</li></ol></li></ol><p>很多网站的资源后面都加了版本号，这样做的目的是：每次升级了 js 或 css 文件后，为了防止浏览器进行缓存，强制改变版本号，浏览器就会重新下载新的 js 或 css 文件，以保证用户能够及时获得网站的最新更新。</p><br><h3 id="协商缓存和强制缓存" tabindex="-1">协商缓存和强制缓存 <a class="header-anchor" href="#协商缓存和强制缓存" aria-label="Permalink to &quot;协商缓存和强制缓存&quot;">​</a></h3><p><strong>强制缓存</strong></p><p>使用强缓存策略时，如果缓存资源有效，则直接使用缓存资源，不必再向服务器发起请求。</p><p>强缓存策略可以通过两种方式来设置，分别是 http 头信息中的 Expires 属性和 Cache-Control 属性</p><ol><li>服务器通过在响应头中添加 Expires 属性（http 1.0 的方式），来指定资源的过期时间。在过期时间内，该资源可以被缓存使用，不再向服务器发送请求。可能会因为客户端与服务端时间不一致，影响缓存命中的结果。</li><li>Cache-Control 属性是 http 1.1 新添加的属性，提供了对资源的缓存的更精确的控制，它的值有： <ul><li>public：可以被任何对象（客户端、代理服务器等）缓存，不常用，一般用 max-age=来精确控制</li><li>private：只能被用户浏览器缓存，不允许代理服务器缓存。实际开发中，对于一些含有用户信息的 html，通常设置为 private，避免代理服务器（CDN）缓存。</li><li>no-cache：先和服务端确认返回的资源是否发生了变化，如果未变化，则直接使用缓存</li><li>no-store：禁止任何缓存，每次都发起新的请求，拉取最新的资源</li><li>max-age=：设置缓存的最大有效期，单位秒</li><li>s-masage=：优先级高于 max-age=，仅适用于共享缓存（CDN），优先级高于 max-age 或 Expires</li><li>max-stale[=]：设置了该字段表明客户端愿意接收已经过期的资源，但是不能超过给定的时间限制</li></ul></li></ol><p>一般来说只需要设置其中一种方式就可以实现强缓存策略，当两种方式一起使用时，Cache-Control 的优先级要高于 Expires。</p><p>no-cache 和 no-store 很容易混淆：</p><ul><li>no-cache 是指先要和服务器确认是否有资源更新，在进行判断。也就是说没有强缓存，但是会有协商缓存；</li><li>no-store 是指不使用任何缓存，每次请求都直接从服务器获取资源。</li></ul><br><p><strong>协商缓存</strong></p><p>如果命中强制缓存，我们无需发起新的请求，直接使用缓存内容，如果没有命中强制缓存，如果设置了协商缓存，这个时候协商缓存就会发挥作用了。</p><p>命中协商缓存有两个条件：</p><ul><li>max-age=xxx 过期了</li><li>no-store</li></ul><p>使用协商缓存策略时，会先向服务器发送一个请求，如果资源没有发生修改，则返回一个 304 状态，让浏览器使用本地的缓存副本。如 果资源发生了修改，则返回修改后的资源。</p><p>协商缓存也可以通过两种方式来设置，分别是 http 头信息中的 Etag 和 Last-Modified 属性。</p><ul><li>Last-Modified：指出资源最后一次修改的时间，当浏览器下一次发起请求时，会在请求头中添加 If-Modified-Since 属性，值为上次资源返回时的 Last-Modified的值。服务器通过这个属性来判断资源是否做了修改，如果没修改则返回 304，让客户端使用本地缓存。如果资源已经被修改则返回修改后的资源。缺点是时间只能精确到秒级，如果文件在 1 秒内被修改多次，会造成缓存命中不准确。</li><li>针对 Last-Modified的不准确性，提供了另一种方式Etag。这个属性是资源生成的唯一标识符，当资源发生改变时这个值也会改变。在下次资源请求时，浏览器会在请求头中添加一个 If-None-Match 属性，值为上次返回的 Etag 值。服务端会根据这个值对比资源是否发生变化。</li></ul><p>Etag 优先级高于 Last-Modified。需要考虑负载平衡的问题。</p><br><h3 id="事件是什么-事件模型" tabindex="-1">事件是什么？事件模型？ <a class="header-anchor" href="#事件是什么-事件模型" aria-label="Permalink to &quot;事件是什么？事件模型？&quot;">​</a></h3><p>事件是用户操作网页时发生的交互动作，比如 click/move， 还可以是文档加载，窗口滚动和大小调整。事件被封装成一个 event 对象，包含了该事件发生时的所有相关信息（ event 的属性）以及可以对事件进行的操作（ event 的方法）。</p><p>事件是用户操作网页时发生的交互动作或者网页本身的一些操作，现代浏览器一共有三种事件模型：</p><ul><li>DOM0 级事件模型，这种模型不会传播，所以没有事件流的概念，但是现在有的浏览器支持以冒泡的方式实现，它可以在网页中直接定义监听函数，也可以通过 js 属性来指定监听函数。所有浏览器都兼容这种方式。直接在 dom 对象上注册事件名称，就是 DOM0 写法。</li><li>IE 事件模型，在该事件模型中，一次事件共有两个过程：事件处理阶段和事件冒泡阶段。事件处理阶段会首先执行目标元素绑定的监听事件。然后是事件冒泡阶段，冒泡指的是事件从目标元素冒泡到 document，依次检查经过的节点是否绑定了事件监听函数，如果有则执行。这种模型通过 attachEvent 来添加监听函数，可以添加多个监听函数，会按顺序依次执行。</li><li>DOM2 级事件模型，在该事件模型中，一次事件共有三个过程，第一个过程是事件捕获阶段。捕获指的是事件从 document 一直向下传播到目标元素，依次检查经过的节点是否绑定了事件监听函数，如果有则执行。后面两个阶段和 IE 事件模型的两个阶段相同。这种事件模型，事件绑定的函数是 addEventListener，其中第三个参数可以指定事件是否在捕获阶段执行。</li></ul><br><h3 id="事件委托" tabindex="-1">事件委托 <a class="header-anchor" href="#事件委托" aria-label="Permalink to &quot;事件委托&quot;">​</a></h3><p>本质上是利用了浏览器事件冒泡机制，因为事件在冒泡过程中会传递到父节点，父节点可以通过事件对象获取到目标节点，因此可以把节点的监听函数定义在父节点上，由父节点统一处理多个子元素的事件 。</p><p>优点：减少内存消耗，不用给每个子节点绑定监听函数，还可以实现动态绑定</p><p>局限：对focus、blur这类事件没有冒泡机制，无法实现事件委托；mousemove、mouseout这类事件，需要不断计算定位，性能消耗大</p><p>缺点：影响页面性能，如点击的最底层元素与绑定监听函数之间的dom层数，元素中绑定事件委托的次数</p><br><h3 id="事件循环-event-loop" tabindex="-1">事件循环/Event Loop <a class="header-anchor" href="#事件循环-event-loop" aria-label="Permalink to &quot;事件循环/Event Loop&quot;">​</a></h3><p><img src="/interview-question/assets/image-20230624222256669.c2c4bae2.png" alt="image-20230624222256669"></p><p>js是单线程语言，主线程在同一时间只能处理一个任务。js引擎线程在逐行解释并执行代码时，通过将不同函数的执行上下文压入执行栈中来保证代码的有序执行。如果有多个任务，就会排队，执行完一个再执行下一个，但是这样会造成资源浪费，并且无法及时响应用户行为。</p><p>js 为什么不设计为多线程？历史原因，js 被创造之初就是为了解决一些简单的问题，并且 js 没有锁机制，如果存在多线程，dom 操作将变得复杂且不可控。现在可以使用 web worker 来实现多线程。</p><p>这种等待机制运行时，会造成阻塞，也就是同步机制。而 Event Loop 就是为了解决这个问题。</p><p>Event Loop 是一个程序结构，用于等待和发送消息、事件。</p><p>简单的说，就是在程序中设置两个线程：一个负责程序本身的运行，即主线程；一个负责主线程与其他进程（各种 I/O 操作）的通信，被称为“Event Loop 线程”，也可叫作“消息线程”</p><p>每当遇到 I/O 的时候，主线程就让 Event Loop 线程去通知相应的 I/O 程序，然后主线程接着往后运行，等到 I/O 程序完成操作，Event Loop 线程再把结果返回主线程，主线程就调用事先设定的回调函数，完成整个任务。</p><p>这种运行模式，就被称为“异步模式”，或者“非阻塞模式”</p><hr><p>如果是同步任务，会立即执行并得到结果；如果遇到异步事件，js 引擎并不会一直等待其返回结果，而是会将这个事件挂起，继续执行执行栈中的其他任务。当异步事件执行完毕后，再将异步事件对应的回调加入到一个任务队列中等待执行。</p><p>任务队列可以分为宏任务（macrotask，tasks）队列和微任务（microtask，jobs）队列：</p><p>宏任务：整体代码块，如 script、setTimeout、setInterval、I/O、UI rendering</p><p>微任务：process.nextTick、promise.then.catch、Object.observe监听函数、对Dom变化的MutationObserver</p><p>当当前执行栈中的事件执行完毕后，js 引擎首先会判断微任务队列中是否有任务可以执行，如果有就将微任务队首的事件压入栈中执行。当微任务队列中的任务都执行完成后再去执行宏任务队列中的任务。</p><p>每次同步代码执行完成后，事件处理线程（负责管理任务队列）会先把微任务队列中的任务交给主线程去执行，队列清空后，再清空宏任务队列，这样不断循环，直到任务队列全被清空。这个过程中宏任务优先放入队列，但微任务被优先执行。</p><hr><p>浏览器中event loop 执行顺序如下：</p><ol><li>先执行同步代码，这属于宏任务</li><li>当执行完所有同步代码后，执行栈为空，查询是否有异步代码需要执行</li><li>执行所有微任务</li><li>当执行完所有微任务后，如有必要会渲染页面</li><li>开始下一轮 event loop，执行宏任务中的异步代码</li></ol><hr><p>nodejs 中 Event Loop 机制</p><p>分为 6 个阶段，它们会按照顺序反复运行</p><p><img src="/interview-question/assets/image-20230627121948701.24d8854a.png" alt="image-20230627121948701"></p><ol><li><p>timer：执行 setTimeout 和 setInterval，timer 指定的时间并不是准确时间，而是在达到这个时间后尽快执行回调，可能会因为系统正在执行别的事务而延迟，这个时间的范围是 1～2147483647，如果超出范围，将被设置为 1</p></li><li><p>I/O：执行<strong>除了</strong> close 事件，定时器和 setImmediate 的回调</p></li><li><p>idle，prepare：idle，prepare 阶段内部实现</p></li><li><p>poll：很重要，这一阶段中，系统会做两件事：</p><ul><li>执行到点的定时器</li><li>执行 poll 队列中的事件</li></ul><p>并且当 poll 中没有定时器的情况下，会发生以下两件事情：</p><ul><li><p>如果 poll 队列不为空，会遍历回调队列并同步执行，直到队列为空或系统限制</p></li><li><p>如果 poll 队列为空，会有两件事发生</p><ul><li>如果有 setImmediate 需要执行，poll 阶段会停止并进入到 check 阶段执行 setImmediate</li><li>如果没有 setImmediate 需要执行，会等待回调被加入到队列中并立即执行回调</li><li>如果有别的定时器需要被执行，会回到 timer 阶段执行回调</li></ul></li></ul></li><li><p>check：执行 setImmediate</p></li><li><p>close callback：执行 close 事件，并且在 node 中，有些情况下定时器执行顺序是随机的。</p></li></ol><p>​</p><p>process.nextTick 会先于其他 microtask 执行</p><br><h3 id="多标签页间通信" tabindex="-1">多标签页间通信 <a class="header-anchor" href="#多标签页间通信" aria-label="Permalink to &quot;多标签页间通信&quot;">​</a></h3><p>因为标签页之间无法直接通信，所以本质上都是通过中介者模式来实现，让中介者进行消息转发。方式有：</p><ul><li>使用websocket：标签页间通过服务器进行消息转发</li><li>使用 webWorker：在页面存在期间创建一个唯一的线程，并且开启多页面也会使用同一线程，它可以充当中介者</li><li>使用localStorage</li><li>使用postMessage方法：获取对应标签页的引用</li></ul><br><h3 id="dom和-bom" tabindex="-1">DOM和 BOM <a class="header-anchor" href="#dom和-bom" aria-label="Permalink to &quot;DOM和 BOM&quot;">​</a></h3><p>DOM 指的是文档对象模型，它指的是把文档当作一个对象，这个对象主要定义了处理网页内容的方法和接口。</p><p>BOM 是浏览器对象模型，它指的是把浏览器对象，定义了与浏览器进行交互的方法和接口。BOM 的核心是 window，而 window 即是通过 js 访问浏览器的一个接口，又是一个全局对象。这意味着在网页中定义的任何对象，变量和函数，都作为全局对象的一个属性或者方法存在。</p><p>window 对象含有 location 对象、navigator 对象、screen对象等子对象，并且 DOM 的最根本的对象 document 对象也是 BOM 的 window 对象的子对象。</p><br><h3 id="跨域怎么解决" tabindex="-1">跨域怎么解决 <a class="header-anchor" href="#跨域怎么解决" aria-label="Permalink to &quot;跨域怎么解决&quot;">​</a></h3><ol><li><p>JSONP</p><p>利用 script 标签没有同源策略限制的特点，可以进行资源请求。</p><p>缺点：</p><ul><li>仅限 GET 请求</li><li>有安全问题，前端无法阻止恶意代码返回</li><li>无法检测请求是否成功</li></ul></li><li><p>CORS</p><p>CORS 是跨域资源共享（Cross-origin resource sharing），关键在于服务端，设置返回的 Access-Control-Allow-Origin 响应头允许跨域操作</p></li><li><p>Nginx 代理</p><p>配置 nginx.conf，通过反向代理的方式实现跨域请求</p></li><li><p>document.domain</p><p>该方式只能用于二级域名相同的情况，比如 a.test.com 和 b.test.com 适用于该方式，只需要给页面添加 document.domain=&#39;test.com&#39;，表示二级域名都相同就可以实现跨域</p></li><li><p>window.name</p><p>window.name 有一个性质，页面如果设置了该属性，那么在不关闭页面的情况下，即使进行了页面跳转 location.href=，这个属性还是会保留</p></li><li><p>postMessage+iframe</p><p>通常用于共聚嵌入页面中的第三方页面数据，一个页面发送消息，别一个页面判断来源并接收消息。</p></li></ol><br><h3 id="escape、encodeuri、encodeuricomponent-的区别" tabindex="-1">escape、encodeURI、encodeURIComponent 的区别 <a class="header-anchor" href="#escape、encodeuri、encodeuricomponent-的区别" aria-label="Permalink to &quot;escape、encodeURI、encodeURIComponent 的区别&quot;">​</a></h3><p><strong>escape</strong>是对<strong>字符串</strong>进行编码，生成新的由十六进制转义序列替换的字符串。编码之后的效果是%XX或者%uXXXX这种形式， ASCII字母、数字、@*/+ ，这几个字符不会被编码，其余的都会</p><p><strong><code>encodeURI()</code></strong> 函数对URI 进行编码 (该字符的 UTF-8 编码仅为四转义序列) ，不会对下列字符编码 ：ASCII字母、数字、~!@#$&amp;*()=:/,;?+&#39;</p><p>**<code>encodeURIComponent()</code> **方法不会对下列字符编码 ASCII字母、数字、~!*()&#39;，编码范围更大。</p><p>以<code>&quot;https://www.jb51.net/season-huang/some other thing&quot;</code>为例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">使用 encodeURI 转码后</span></span>
<span class="line"><span style="color:#babed8;">&#39;https://www.jb51.net/season-huang/some%20other%20thing&#39;</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;">使用encodeURIComponent 转码后</span></span>
<span class="line"><span style="color:#babed8;">&#39;https%3A%2F%2Fwww.jb51.net%2Fseason-huang%2Fsome%20other%20thing&#39;</span></span></code></pre></div><br><h3 id="前端性能优化手段" tabindex="-1">前端性能优化手段 <a class="header-anchor" href="#前端性能优化手段" aria-label="Permalink to &quot;前端性能优化手段&quot;">​</a></h3><ul><li>加载优化：减少HTTP请求、缓存资源、压缩代码、无阻塞、首屏加载、按需加载、预加载、压缩图像、减少Cookie、避免重定向、异步加载第三方资源</li><li>执行优化：CSS写在头部，JS写在尾部并异步、避免img、iframe等的src为空、尽量避免重置图像大小、图像尽量避免使用DataURL</li><li>渲染优化：设置viewport、减少DOM节点、优化动画、优化高频事件、GPU加速</li><li>样式优化：避免在HTML中书写style、避免CSS表达式、移除CSS空规则、正确使用display：display、不滥用float等</li><li>脚本优化：减少重绘和回流、缓存DOM选择与计算、缓存.length的值、尽量使用事件代理、尽量使用id选择器、touch事件优化</li></ul></div></div></main><footer class="VPDocFooter" data-v-55ad85da data-v-889d66be><!--[--><!--]--><div class="edit-info" data-v-889d66be><!----><div class="last-updated" data-v-889d66be><p class="VPLastUpdated" data-v-889d66be data-v-98edaec0>最后更新于: <time datetime="2024-02-22T11:39:40.000Z" data-v-98edaec0></time></p></div></div><nav class="prev-next" data-v-889d66be><div class="pager" data-v-889d66be><a class="pager-link prev" href="/interview-question/docs/network" data-v-889d66be><span class="desc" data-v-889d66be>上一页</span><span class="title" data-v-889d66be>网络相关</span></a></div><div class="pager" data-v-889d66be><a class="pager-link next" href="/interview-question/docs/nodejs" data-v-889d66be><span class="desc" data-v-889d66be>下一页</span><span class="title" data-v-889d66be>Nodejs相关</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_develop-basic.md\":\"6dc70786\",\"docs_css.md\":\"0630762b\",\"docs_browser.md\":\"84bdbceb\",\"docs_engineering.md\":\"91265202\",\"docs_html.md\":\"40cedcfa\",\"docs_vue.md\":\"4f4109dc\",\"docs_index.md\":\"f4e6458c\",\"index.md\":\"65433f1b\",\"docs_hand-written.md\":\"d76a238d\",\"docs_vuex.md\":\"1b96c491\",\"docs_js-basic.md\":\"48ac5215\",\"docs_nodejs.md\":\"b9f084c3\",\"docs_js-datatype.md\":\"3ea0909b\",\"docs_vue-peripheral.md\":\"d0c1843c\",\"docs_network.md\":\"dc5a61b2\",\"docs_react.md\":\"e15829a1\",\"docs_ts.md\":\"a9eb921c\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"老刘面试题\",\"description\":\"面试题收集\",\"base\":\"/interview-question/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"前端面试题\",\"link\":\"/docs/\",\"activeMatch\":\"/docs/\"}],\"outline\":{\"label\":\"内容大纲\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"没有找到相关结果\",\"resetButtonTitle\":\"重置搜索\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"导航到\"}}}}}}},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"sidebar\":{\"/docs/\":[{\"items\":[{\"text\":\"开发基础\",\"link\":\"/docs/develop-basic\"},{\"text\":\"前端工程化\",\"link\":\"/docs/engineering\"},{\"text\":\"js数据类型\",\"link\":\"/docs/js-datatype\"},{\"text\":\"js基础\",\"link\":\"/docs/js-basic\"},{\"text\":\"HTML相关\",\"link\":\"/docs/html\"},{\"text\":\"CSS相关\",\"link\":\"/docs/css\"},{\"text\":\"网络相关\",\"link\":\"/docs/network\"},{\"text\":\"浏览器相关\",\"link\":\"/docs/browser\"},{\"text\":\"Nodejs相关\",\"link\":\"/docs/nodejs\"},{\"text\":\"Vue相关\",\"link\":\"/docs/vue\"},{\"text\":\"Vue周边\",\"link\":\"/docs/vue-peripheral\"},{\"text\":\"TS相关\",\"link\":\"/docs/ts\"},{\"text\":\"React相关\",\"link\":\"/docs/react\"},{\"text\":\"手撕代码\",\"link\":\"/docs/hand-written\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yun8711/interview-question.git\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>