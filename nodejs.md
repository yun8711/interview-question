[TOC]



### 1 中间件

中间件是介于应用系统和系统软件之间的一类软件，它使用系统软件提供的基础服务或功能，衔接应用系统的各个部分或不同的应用，能达到资源共享、功能共享的目的。

在nodejs中，主要指封装一些http请求细节处理的方法，隐藏实现细节，把基础功能和业务逻辑隔离，优化程序结构，提高开发效率。

一次http请求包含很多工作，如记录日志、ip过滤、查询字符串、请求体解析、cookie处理、权限验证、异常处理等，对于web应用而言，不希望接触到这么多细节的处理，因此引入中间件来简化和隔离这些基础设施与业务逻辑之间的细节，提升开发效率。



### 2 nodejs中的事件循环

任务类型：

- 微任务队列
- process.nextTick
- 计时器队列
- I/O队列
- check队列，执行setImmediate的回调
- close队列，关闭资源



### 3 buffer

nodejs中用于处理二进制数据的类，与I/O相关的操作均基于Buffer。其内存在V8堆栈外分配原始内存空间，占用空间大小原固定，实例创建后不能再调整。